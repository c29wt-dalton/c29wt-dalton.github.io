<html>
<head>
<style type="text/css">
		.confetti{
		width: 10px;
		height: 20px;
		border: 1px solid black;
		position: absolute;
		animation-name:swing3d;	
		animation-duration:1s;	
		animation-iteration-count: infinite;
		animation-direction: alternate;
		}

		@keyframes swing{
			from {
				transform: rotate(var(--startRot));
				/*transform: rotate(-45deg);*/
			}
			to {
				transform: rotate(var(--endRot));
				/*transform: rotate(45deg);*/
			}
		}
		@keyframes swing3d {
			from {
				/*transform: rotateY(-180deg);*/
				transform: rotateY(var(--startRot3d));
			}
			to {
				/*transform: rotateY(180deg);*/
				transform: rotateY(var(--endRot3d));
			}
		} 

	

</style>

</head>
<body>
	<button id="btn"> drop confetti</button>
	<input type="color" value="#FFD6E0" id="colorPicker">
		<script>
			let colors = ["#36b8f5","#b653fc", "#fa3e4e"]

			let dropConfettiBtn = document.getElementById ("btn")

			let colorPicker = document.getElementById ("colorPicker")
			console.log(colorPicker.value)
			function makeConfetti(){

		let square= document.createElement(
		"div")
		square.classList.add("confetti")
		document.body.appendChild(square)

			let r =Math.round(Math.random()*255)
			let g =Math.round(Math.random()*255)
			let b =Math.round(Math.random()*255)
			let rotation = Math.random()*360

			let startRot = Math.random()*-60 + "deg"
			let endRot = Math.random()* 60 +"deg"

			let startRot3d = Math.random()*-60 +"deg"
			let endRot3d = Math.random()*-60 + "deg"

			// let randomColorIndex = Math.floor(Math.random()*colors.length)
			// console.log(randomColorIndex)

			square.style.backgroundColor = colorPicker.value
			// square.style.backgroundColor = colors[randomColorIndex]
// square.style.backgroundColor="rgb("+r+","+g+","+b+")"

square.style.left=Math.random()*1500+"px"
square.style.top=Math.random()*1000+"px"
// square.style.width = Math.random() *50 + "px"
// square.style.height = Math.random() *25 + "px"
square.style.transform = "rotate(" +rotation +"deg)"

square.style.setProperty("--startRot", startRot)
square.style.setProperty("--endRot", endRot)

function fall(){
let fallFactor = 10
square.style.top=parseInt(square.style.top)+fallFactor+"px"
// console.log(square.style.top)
if(parseInt(square.style.top)>1000){
	square.style.top = "10px"
	}
}
setInterval(fall, 100)
}
// for (let i = 0; i<=100; i++){
// 	makeConfetti()
// }
	dropConfettiBtn.addEventListener("click", function() {
		for (let i = 0; i<10; i++){
			makeConfetti()
		}
	})
	
// setInterval(makeConfetti, 300)
</script>

</body>
</html>